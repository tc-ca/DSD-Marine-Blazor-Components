<div class="pb-5">
    <EditForm EditContext="@this.EditContext" OnValidSubmit="SaveComment">
        @if (!this.ReadOnly)
        {
            <FormInputTextArea Id="InputTextArea" Required="required" Rows="3" Cols="75" @bind-Value="@this.requestComment.CommentText" ValidationFor="@(() => this.requestComment.CommentText)" />
            <div class="d-flex justify-content-end">
                <button type="submit" class="btn btn-outline-primary">@this.TextModel.AddCommentBtn</button>
            </div>
        }
    </EditForm>

</div>

<div class="d-flex align-items-center border-bottom">
    <p class="d-inline pr-3"> @this.TextModel.CommentsLabel </p>
    <div class="pr-3" style="flex-basis:40%">
        <EditForm Model="this.SortOption">
            <FormInputSelect Id="InputSelect" ShowDefaultOption="false" Label="" SelectLabel="CommentSortType" Required="required" @bind-Value="SortOption.Text" ValidationFor="@(() => SortOption.Text)" OnChange="ChangeSortOrder">
                @foreach (var item in SortOptions)
                {
                    <option value="@item.Id">@item.Text</option>
                }
            </FormInputSelect>
        </EditForm>
    </div>
    <div>
        <p>@this.WorkComments.Count() @this.TextModel.CommentsLabel</p>
    </div>
</div>
<div style="word-break: break-word">
    @if (!this.IsCommentListEmpty())
    {
        <p class="mt-3">@this.TextModel.NoCommentsLabel</p>
    }
    else
    {
        <ul class="pt-2">
            @for (int i = 0; i < this.MaxShownComments; i++)
            {
                <li class="CommentListItem">
                    <b>@this.WorkComments[i].CreatedBy  @this.WorkComments[i].CreatedDateFormatted</b>
                    <p class="mt-1 mr-5 text-break">@this.WorkComments[i].Comment</p>
                </li>
            }
        </ul>
    }
    @if (!this.areAllCommentsShown)
    {
        <button type="button" class="btn btn-link text-black p-0" @onclick="@this.LoadMoreComments">@TextModel.LoadMoreCommentBtn</button>
    }
</div>
<hr />
