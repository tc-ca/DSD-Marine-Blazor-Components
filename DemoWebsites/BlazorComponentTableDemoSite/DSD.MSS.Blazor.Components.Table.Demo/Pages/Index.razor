@page "/"
@using DSD.MSS.Blazor.Components.Table.Demo.Model;

<h1>Table Component</h1>

<div class="row well">
    <div class="col-12">
        <div class="card  mb-3 mt-3">
            <div class="card-body">
                <div class="flex-row flex-grow mb-3 mt-3">
                    <div class="flex-row ml-auto">
                        <button type="button" aria-label="show" class="btn btn-secondary" @onclick="()=>ToggleLastNameFilter()">
                            Toggle LastName Filter
                        </button>
                        <button type="button" aria-label="show" class="btn btn-secondary" @onclick="()=>ToggleFirstNameFilter()">
                            Toggle FirstName Filter
                        </button>
                        <button type="button" aria-label="Refresh" class="btn btn-secondary">
                            <i aria-hidden="true" class="fas fa-redo-alt"></i>
                        </button>
                        <button type="button" aria-label="Toggle Filter" class="btn btn-secondary ml-2" @onclick=@(() => HandleFilterButtonClick())>
                            <i aria-hidden="true" class="fas fa-filter"></i>
                        </button>
                    </div>
                </div>

                <Table TableClass="table table-striped table-hover" TableItem="TableModel" SearchPlaceHolderText="Search ..."
                       @ref="this.TableRef" DefaultPageSize="10" OnAfterDataLoaded="OnAfterTableDataLoaded" ShowSearchBar="@ShowFilterHeader"
                       Items="this.TableData" HeaderFilterChanged="@(()=>HandleHeaderFilterChanged())"
                       FilterChanged="(e)=>OnFilterChanged(e)">
                    <Column TableItem="TableModel" Title="#" Field="@(x => x.Id)" DefaultShowColumn="true" DefaultShowHeaderFilter="false" Sortable="false" />
                    <Column TableItem="TableModel" Title="First Name" Field="@(x => x.FirstName)" DefaultShowHeaderFilter="true" Sortable="true" />
                    <Column TableItem="TableModel" Title="Last Name" Field="@(x => x.LastName)" DefaultShowHeaderFilter="true" Sortable="true" />
                    <Column TableItem="TableModel" Title="Handle" Field="@(x => x.Handle)" DefaultShowHeaderFilter="true" Sortable="true" />
                    <Column TableItem="TableModel" Title="Date" Field="@(x => x.TestingDateValue)" SortFieldValue="@(x => x.TestingDate)" DefaultShowHeaderFilter="true" Sortable="true" />
                    <Pager ShowPageNumber="true" ShowTotalCount="true" />
                </Table>

                <Table TableClass="table table-striped table-hover" TableItem="TableModel" SearchPlaceHolderText="Search ..."
                       @ref="this.TableRef" DefaultPageSize="10" OnAfterDataLoaded="OnAfterTableDataLoaded" ShowSearchBar="@ShowFilterHeader"
                       Items="this.TableData" HeaderFilterChanged="@(()=>HandleHeaderFilterChanged())"
                       FilterChanged="(e)=>OnFilterChanged(e)" ShowClearFilterOnTop="true">
                    <Column TableItem="TableModel" Title="#" Field="@(x => x.Id)" DefaultShowColumn="true" DefaultShowHeaderFilter="false" Sortable="false" />
                    <Column TableItem="TableModel" Title="First Name" Field="@(x => x.FirstName)" DefaultShowHeaderFilter="true" Sortable="true" />
                    <Column TableItem="TableModel" Title="Last Name" Field="@(x => x.LastName)" DefaultShowHeaderFilter="true" Sortable="true" />
                    <Column TableItem="TableModel" Title="Handle" Field="@(x => x.Handle)" DefaultShowHeaderFilter="true" Sortable="true" />
                    <Column TableItem="TableModel" Title="Date" Field="@(x => x.TestingDateValue)" DefaultShowHeaderFilter="true" Sortable="true" />
                    <Pager ShowPageNumber="true" ShowTotalCount="true" />
                </Table>
            </div>
        </div>
    </div>
</div>